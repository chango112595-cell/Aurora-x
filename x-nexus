#!/usr/bin/env python3
"""
Aurora-X Individual Server Control
Control individual Aurora services
NOW USING AURORA CORE - Aurora is in control!

Usage:
  python3 x-nexus start <server>   - Start a specific server
  python3 x-nexus stop <server>    - Stop a specific server
  python3 x-nexus restart <server> - Restart a specific server
  python3 x-nexus status           - Show all server status

Available servers: vite, backend, bridge, self-learn, chat
"""

import os
import sys
import time

# Add tools directory to path
sys.path.insert(0, os.path.join(os.path.dirname(__file__), "tools"))

from aurora_core import AuroraCore


def show_usage():
    print(__doc__)


if __name__ == "__main__":
    if len(sys.argv) < 2:
        show_usage()
        sys.exit(1)

    command = sys.argv[1]
    aurora = AuroraCore()

    if command == "status":
        aurora.get_status()
    elif command == "start" and len(sys.argv) > 2:
        server = sys.argv[2]
        print(f"üöÄ Aurora Core: Starting {server}...\n")
        aurora.start_service(server)
    elif command == "stop" and len(sys.argv) > 2:
        server = sys.argv[2]
        print(f"üõë Aurora Core: Stopping {server}...\n")
        aurora.stop_service(server)
    elif command == "restart" and len(sys.argv) > 2:
        server = sys.argv[2]
        print(f"üîÑ Aurora Core: Restarting {server}...\n")
        aurora.stop_service(server)
        time.sleep(2)
        aurora.start_service(server)
    else:
        print(f"‚ùå Invalid command: {command}\n")
        show_usage()
        sys.exit(1)
