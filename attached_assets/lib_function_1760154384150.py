
from textwrap import dedent

def render_function(name: str, brief: str) -> tuple[str, str]:
    # Basic safe implementation defaults to factorial if name matches, else generic stub.
    if 'factorial' in name:
        code = dedent(f"""
        def factorial(n: int) -> int:
            """Compute n! for n>=0 using an iterative method."""
            if n < 0:
                raise ValueError("n must be >= 0")
            r = 1
            for i in range(2, n+1):
                r *= i
            return r
        """ )
        tests = dedent("""
        # tests for factorial
        assert factorial(0) == 1
        assert factorial(1) == 1
        assert factorial(5) == 120
        """)
        return code, tests
    # generic
    code = dedent(f"""
    def {name}(*args, **kwargs):
        """{brief or "Auto-generated function."}"""
        raise NotImplementedError("Please refine specification for {name}.")
    """)
    tests = dedent(f"""
    # basic smoke test for {name}
    try:
        {name}()
    except NotImplementedError:
        pass
    """)
    return code, tests
